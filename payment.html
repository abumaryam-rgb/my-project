<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment - ADUSTECH MSSN</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Animated Blobs for Beautiful Background -->
    <div class="blob blob1"></div>
    <div class="blob blob2"></div>
    <div class="blob blob3"></div>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-mosque me-2"></i>
                ADUSTECH MSSN
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Payment</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Payment Section -->
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="text-center mb-5">
                    <h1 class="display-4 text-primary">
                        <i class="fas fa-credit-card me-3"></i>
                        Payment Gateway
                    </h1>
                    <p class="lead text-muted">Complete your registration by making the payment securely.</p>
                </div>

                <!-- Registration Summary -->
                <div class="card shadow-lg mb-4">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0">
                            <i class="fas fa-info-circle me-2"></i>
                            Registration Summary
                        </h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <p><strong>Student Name:</strong> <span id="studentName">Loading...</span></p>
                                <p><strong>Registration Number:</strong> <span id="registrationNumber">Loading...</span></p>
                                <p><strong>Class Type:</strong> <span id="classType">Loading...</span></p>
                            </div>
                            <div class="col-md-6">
                                <p><strong>Department:</strong> <span id="department">Loading...</span></p>
                                <p><strong>Level:</strong> <span id="level">Loading...</span></p>
                                <p><strong>Phone:</strong> <span id="phone">Loading...</span></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Payment Form -->
                <form id="payment-form" class="registration-form">
                    <div class="form-section">
                        <h3>
                            <i class="fas fa-credit-card"></i>
                            Payment Details
                        </h3>
                        
                        <div class="payment-section text-center mb-4">
                            <div class="payment-amount">
                                Total Amount: ₦200
                            </div>
                            <p class="text-muted">Registration fee for one class</p>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="cardName" class="form-label">Cardholder Name *</label>
                                <input type="text" class="form-control" id="cardName" name="cardName" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="cardNumber" class="form-label">Card Number *</label>
                                <input type="text" class="form-control" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="expiryMonth" class="form-label">Expiry Month *</label>
                                <select class="form-select" id="expiryMonth" name="expiryMonth" required>
                                    <option value="">MM</option>
                                    <option value="01">01</option>
                                    <option value="02">02</option>
                                    <option value="03">03</option>
                                    <option value="04">04</option>
                                    <option value="05">05</option>
                                    <option value="06">06</option>
                                    <option value="07">07</option>
                                    <option value="08">08</option>
                                    <option value="09">09</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="expiryYear" class="form-label">Expiry Year *</label>
                                <select class="form-select" id="expiryYear" name="expiryYear" required>
                                    <option value="">YYYY</option>
                                    <option value="2024">2024</option>
                                    <option value="2025">2025</option>
                                    <option value="2026">2026</option>
                                    <option value="2027">2027</option>
                                    <option value="2028">2028</option>
                                    <option value="2029">2029</option>
                                    <option value="2030">2030</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="cvv" class="form-label">CVV *</label>
                                <input type="text" class="form-control" id="cvv" name="cvv" placeholder="123" maxlength="4" required>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Methods -->
                    <div class="form-section">
                        <h3>
                            <i class="fas fa-wallet"></i>
                            Payment Methods
                        </h3>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="paymentMethod" id="cardPayment" value="card" checked>
                                    <label class="form-check-label" for="cardPayment">
                                        <i class="fas fa-credit-card me-2"></i>
                                        Credit/Debit Card
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="paymentMethod" id="bankTransfer" value="transfer">
                                    <label class="form-check-label" for="bankTransfer">
                                        <i class="fas fa-university me-2"></i>
                                        Bank Transfer
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Security Notice -->
                    <div class="alert alert-info">
                        <i class="fas fa-shield-alt me-2"></i>
                        <strong>Security Notice:</strong> Your payment information is encrypted and secure. We use industry-standard SSL encryption to protect your data.
                    </div>

                    <!-- Submit Button -->
                    <div class="text-center">
                        <button type="submit" class="btn btn-submit btn-lg">
                            <i class="fas fa-lock me-2"></i>
                            Pay ₦200 Securely
                        </button>
                    </div>
                </form>

                <!-- Success Message (Hidden by default) -->
                <div id="success-message" class="alert alert-success text-center" style="display: none;">
                    <i class="fas fa-check-circle fa-3x mb-3"></i>
                    <h4>Payment Successful!</h4>
                    <p>Your registration has been completed successfully. You will receive a confirmation email shortly.</p>
                    <div class="mt-3">
                        <button class="btn btn-primary me-2" onclick="downloadReceipt()">
                            <i class="fas fa-download me-2"></i>
                            Download Receipt
                        </button>
                        <button class="btn btn-success" onclick="viewTimetable()">
                            <i class="fas fa-calendar me-2"></i>
                            View Timetable
                        </button>
                    </div>
                </div>

                <!-- Timetable Section (Hidden by default) -->
                <div id="timetable-section" class="card shadow-lg mt-4" style="display: none;">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0">
                            <i class="fas fa-calendar me-2"></i>
                            Class Timetable
                        </h4>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead class="table-dark">
                                    <tr>
                                        <th>Day</th>
                                        <th>Time</th>
                                        <th>Venue</th>
                                        <th>Instructor</th>
                                    </tr>
                                </thead>
                                <tbody id="timetable-body">
                                    <!-- Timetable will be populated dynamically -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3 mt-5">
        <div class="container">
            <p>&copy; 2024 ADUSTECH MSSN. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
    <script>
        // Load registration data from localStorage
        document.addEventListener('DOMContentLoaded', function() {
            const studentName = localStorage.getItem('fullName') || 'Student Name';
            const registrationNumber = localStorage.getItem('registrationNumber') || 'REG123456';
            const classType = localStorage.getItem('classType') || 'Islamic Class';
            const department = localStorage.getItem('department') || 'Department';
            const level = localStorage.getItem('level') || 'Level';
            const phone = localStorage.getItem('phone') || 'Phone';

            document.getElementById('studentName').textContent = studentName;
            document.getElementById('registrationNumber').textContent = registrationNumber;
            document.getElementById('classType').textContent = classType;
            document.getElementById('department').textContent = department;
            document.getElementById('level').textContent = level;
            document.getElementById('phone').textContent = phone;
        });

        // Download receipt function
        function downloadReceipt() {
            const receiptData = {
                studentName: localStorage.getItem('fullName') || 'Student Name',
                registrationNumber: localStorage.getItem('registrationNumber') || 'REG123456',
                classType: localStorage.getItem('classType') || 'Islamic Class',
                amount: '₦200',
                date: new Date().toLocaleDateString(),
                time: new Date().toLocaleTimeString(),
                receiptNumber: 'RCP' + Date.now()
            };

            const receiptContent = `
                <div style="font-family: Arial, sans-serif; max-width: 400px; margin: 0 auto; padding: 20px; border: 2px solid #1e3a8a; border-radius: 10px;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <h2 style="color: #1e3a8a; margin: 0;">ADUSTECH MSSN</h2>
                        <p style="color: #666; margin: 5px 0;">Class Registration Receipt</p>
                    </div>
                    
                    <div style="border-top: 1px solid #ddd; padding-top: 15px;">
                        <p><strong>Receipt No:</strong> ${receiptData.receiptNumber}</p>
                        <p><strong>Date:</strong> ${receiptData.date}</p>
                        <p><strong>Time:</strong> ${receiptData.time}</p>
                        <p><strong>Student Name:</strong> ${receiptData.studentName}</p>
                        <p><strong>Registration No:</strong> ${receiptData.registrationNumber}</p>
                        <p><strong>Class:</strong> ${receiptData.classType}</p>
                        <p><strong>Amount:</strong> ${receiptData.amount}</p>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px solid #ddd;">
                        <p style="color: #059669; font-weight: bold;">Payment Successful!</p>
                        <p style="font-size: 12px; color: #666;">Thank you for registering with ADUSTECH MSSN</p>
                    </div>
                </div>
            `;

            const blob = new Blob([receiptContent], { type: 'text/html' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `receipt_${receiptData.receiptNumber}.html`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        // View timetable function
        function viewTimetable() {
            const classType = localStorage.getItem('classType') || 'Islamic Class';
            const timetableData = getTimetableData(classType);
            
            const timetableBody = document.getElementById('timetable-body');
            timetableBody.innerHTML = '';
            
            timetableData.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.day}</td>
                    <td>${item.time}</td>
                    <td>${item.venue}</td>
                    <td>${item.instructor}</td>
                `;
                timetableBody.appendChild(row);
            });
            
            document.getElementById('timetable-section').style.display = 'block';
        }

        // Get timetable data based on class type
        function getTimetableData(classType) {
            const timetables = {
                'Qur\'anic Class': [
                    { day: 'Monday', time: '4:00 PM - 6:00 PM', venue: 'MSSN Hall', instructor: 'Ustaz Ahmad' },
                    { day: 'Wednesday', time: '4:00 PM - 6:00 PM', venue: 'MSSN Hall', instructor: 'Ustaz Ahmad' },
                    { day: 'Friday', time: '3:00 PM - 5:00 PM', venue: 'MSSN Hall', instructor: 'Ustaz Ahmad' }
                ],
                'Hadith Class': [
                    { day: 'Tuesday', time: '4:00 PM - 6:00 PM', venue: 'Lecture Room 1', instructor: 'Ustaz Ibrahim' },
                    { day: 'Thursday', time: '4:00 PM - 6:00 PM', venue: 'Lecture Room 1', instructor: 'Ustaz Ibrahim' }
                ],
                'Ta\'alimat Class': [
                    { day: 'Monday', time: '6:00 PM - 8:00 PM', venue: 'Lecture Room 2', instructor: 'Ustaz Yusuf' },
                    { day: 'Wednesday', time: '6:00 PM - 8:00 PM', venue: 'Lecture Room 2', instructor: 'Ustaz Yusuf' }
                ],
                'Arabic Class': [
                    { day: 'Tuesday', time: '6:00 PM - 8:00 PM', venue: 'Lecture Room 3', instructor: 'Ustaz Ali' },
                    { day: 'Thursday', time: '6:00 PM - 8:00 PM', venue: 'Lecture Room 3', instructor: 'Ustaz Ali' }
                ],
                'Comparative Religion Class': [
                    { day: 'Friday', time: '4:00 PM - 6:00 PM', venue: 'Lecture Room 4', instructor: 'Ustaz Hassan' }
                ]
            };
            
            return timetables[classType] || timetables['Qur\'anic Class'];
        }
    </script>
</body>
</html> 